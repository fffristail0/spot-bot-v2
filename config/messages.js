module.exports = {
  start: 'Привет! Используй /add чтобы добавить новый спот или /list чтобы посмотреть все споты. Справка - /help',

  help: {
    text: `
Привет! Это бот для сохранения и обмена фото-спотами.

Основные команды:
- /add — добавить спот
  1) Введите название.
  2) Введите описание.
  3) Отправьте фото как файл (через скрепку), чтобы сохранить координаты EXIF.
- /list — показать ваши споты
  • У каждого спота: фото, описание, место (если есть GPS), ссылка «Открыть на карте», кнопки «Поделиться» и «Удалить».
- /map — открыть все ваши споты на карте
  • Бот собирает KML со всеми доступными вам точками, загружает его и отдаёт ссылку. Откройте её в приложении, например Maps.me.
- /cancel — выйти из текущего режима.
- /help — показать эту справку.

Как поделиться спотом:
- Откройте /list и нажмите «📤 Поделиться» у нужного спота.
- Введите @username пользователя.
- Если пользователь уже в боте — спот сразу появится у него.
- Если нет — создадим ожидающее приглашение. Когда он запустит бота, спот добавится автоматически.

Удаление спотов:
- Если вы владелец и спот никому не шарили — он удаляется полностью (из базы и фото из хранилища).
- Если вы владелец и спот был расшарен — право владения перейдёт первому из «shared»; у вас спот исчезнет из списка.
- Если вы не владелец (вам поделились) — удаление уберёт спот только из вашей коллекции.
- В итоге, когда останется единственный владелец и он удалит спот — спот удаляется полностью.

Советы и ограничения:
- Фото отправляйте именно как файл (через скрепку), иначе Telegram сожмёт изображение и удалит EXIF — координаты пропадут.
- Поддерживаем изображения (JPEG/PNG), размер до 20 МБ.
- Если в фото нет GPS — спот сохранится без координат.
- Команда /map создаёт/обновляет один и тот же KML-файл по постоянной ссылке. Сохраните её и открывайте при необходимости.

Приватность:
- Тексты и метаданные хранятся в Firebase Realtime Database.
- Фото и KML хранятся в Yandex Object Storage (публичный доступ к KML; фото — по вашей настройке).
- Не публикуйте ссылку на KML, если не хотите делиться всеми точками.

По вопросам обращаться к создателю https://t.me/fffr1stail0
`.trim()
  },

  addSpot: {
    askTitle: 'Введите название спота 📍 или нажмите /cancel для отмены.',
    askDescription: 'Добавьте описание 🌿 или нажмите /cancel для отмены.',
    askPhoto: '📎 Теперь отправьте фото как файл (через скрепку), чтобы бот смог сохранить координаты EXIF.\n\n(для отмены напишите /cancel)',
    successAdd: '✅ Спот успешно добавлен! Используйте /list, чтобы увидеть свои споты.',
    noGpsFound: 'ℹ️ В фото не обнаружены координаты. Спот сохранён без локации.',
    errors: {
      invalidTitle: 'Название должно быть текстом. Попробуйте снова или нажмите /cancel для отмены.',
      invalidDescription: 'Описание должно быть текстом. Попробуйте снова или нажмите /cancel для отмены.',
      invalidPhoto: '❌ Пожалуйста, отправьте изображение как файл (не как обычное фото). Попробуйте ещё раз или нажмите /cancel.',
      notImage: '❌ Поддерживаются только изображения (JPEG, PNG). Попробуйте снова.\n\n(для отмены напишите /cancel)',
      errorAdd: '⚠️ Ошибка при сохранении спота. Попробуйте позже.'
    }
  },

  shareSpot: {
    askUsername: 'Введите @username пользователя, с кем хотите поделиться:',
    invalidUsername: '❗ Укажите username текстом (например, @user).',
    notAllowed: '❌ Вы не можете делиться этим спотом.',
    sharedOk: (username) => `✅ Спот успешно расшарен с @${username}`,
    invited: (username) => `ℹ️ Пользователь @${username} ещё не запускал бота.\nСоздано приглашение — как только он зайдёт, спот автоматически добавится в его коллекции.`,
    error: '⚠️ Не удалось расшарить спот. Попробуйте позже.'
  },

  cancel: {
    success: '🚪 Вы вышли из текущего режима.',
    empty: 'Вы не находитесь ни в каком режиме.',
    error: '⚠️ Произошла ошибка при отмене операции.'
  },

  list: {
    empty: 'У вас пока нет добавленных спотов.',
    error: 'Произошла ошибка при получении ваших спотов.',
    mapLink: '\n\n📌 {{LINK}}',
    share: '📤 Поделиться',
    delete: '🗑️ Удалить'
  },

  actions: {
    general: {
      cancelled: 'Отменено'
    },
    delete: {
      confirm: 'Удалить спот?',
      yes: 'Да',
      no: 'Нет',
      deleted: '🗑️ Спот полностью удалён.',
      transferred: '🔁 Право владения передано следующему пользователю. Спот удалён из вашей коллекции.',
      removed: '🗑️ Спот удалён из вашей коллекции.',
      notFound: '❗ Спот не найден или уже удалён.',
      failed: '⚠️ Не удалось удалить спот.',
      error: '⚠️ Ошибка при удалении спота.'
    }
  },

  map: {
    empty: 'Нет спотов с координатами для отображения.',
    openLink: 'Открыть все споты на карте',
    split: 'Много точек, разобрал на несколько ссылок:',
    kmlNotice: 'Также прикрепил KML-файл — откройте его в приложении Яндекс.Карты, чтобы увидеть все метки.',
    error: '⚠️ Не удалось сформировать карту. Попробуйте позже.'
  },

  startFlow: {
    sharedAdded: (title) => `✅ Спот "${title}" теперь в вашей коллекции!\n\nИспользуйте /list, чтобы его увидеть.`,
    sharedNotAvailable: '❌ Спот больше не доступен',
    sharedError: '⚠️ Ошибка при добавлении спота',
    claimedInvites: (n) => `✅ Найдено и добавлено приглашений: ${n}. Используйте /list, чтобы увидеть споты.`
  }
};